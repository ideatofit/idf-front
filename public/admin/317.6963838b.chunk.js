"use strict";(self.webpackChunkidf_backend=self.webpackChunkidf_backend||[]).push([[317],{80317:(b,m,s)=>{s.r(m),s.d(m,{default:()=>I});var e=s(67294),_=s(68547),o=s.n(_),p=s(35961),c=s(7681),v=s(29728),D=s(11276),R=s(74571),L=s(67838),T=s(49066),C=s(72735),B=s(97132),u=s(78898),A=s(16364),M=s(85018),O=s(34030),f=(h,d,y)=>new Promise((E,t)=>{var a=r=>{try{n(y.next(r))}catch(l){t(l)}},i=r=>{try{n(y.throw(r))}catch(l){t(l)}},n=r=>r.done?E(r.value):Promise.resolve(r.value).then(a,i);n((y=y.apply(h,d)).next())});const I=()=>{const h=(0,_.useNotification)(),{formatMessage:d}=(0,B.useIntl)(),[y,E]=(0,e.useState)(!1),[t,a]=(0,e.useState)(!1),[i,n]=(0,e.useState)("");(0,e.useEffect)(()=>{E(!0),(()=>f(void 0,null,function*(){const P=yield O.Z.getSettings();if(P)return E(!1),n(P.data.apiKey)}))()},[n]);const r=()=>f(void 0,null,function*(){a(!0),yield O.Z.setSettings(i),a(!1),h({type:"success",message:d({id:(0,u.O)("settings.success-message"),defaultMessage:"Settings successfully updated"})})}),l=g=>{n(()=>g.target.value)};return e.createElement(e.Fragment,null,e.createElement(L.T,{id:"title",title:d({id:(0,u.O)("settings.title"),defaultMessage:"TinyMCE"}),subtitle:d({id:(0,u.O)("settings.subtitle"),defaultMessage:"Manage the settings of your TinyMCE plugin"}),primaryAction:y?e.createElement(e.Fragment,null):e.createElement(v.z,{onClick:r,startIcon:e.createElement(M.Z,null),size:"L",disabled:t,loading:t},d({id:(0,u.O)("settings.save-button"),defaultMessage:"Save"}))}),y?e.createElement(_.LoadingIndicatorPage,null):e.createElement(T.D,null,e.createElement(p.x,{background:"neutral0",hasRadius:!0,shadow:"filterShadow",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},e.createElement(c.K,{size:3},e.createElement(C.Z,null,d({id:(0,u.O)("settings.content-title"),defaultMessage:"Set your API key for TinyMCE editor."})),e.createElement(D.r,{gap:6},e.createElement(R.P,{col:8,s:18},e.createElement(A.o,{id:"api-key",name:"key",onChange:l,label:d({id:(0,u.O)("settings.input-title"),defaultMessage:"API key"}),value:i,placeholder:d({id:(0,u.O)("settings.input-placeholder"),defaultMessage:"ex: ADASFNASF46564SAD"})})))))))}},49066:(b,m,s)=>{s.d(m,{D:()=>p});var e=s(67294),_=s(45697),o=s(35961);const p=({children:c})=>e.createElement(o.x,{paddingLeft:10,paddingRight:10},c);p.propTypes={children:_.node.isRequired}},67838:(b,m,s)=>{s.d(m,{T:()=>d});var e=s(67294),_=s(71893),o=s(45697),p=s(72735),c=s(35961),v=s(46273);const D=t=>{const a=(0,e.useRef)(null),[i,n]=(0,e.useState)(!0),r=([l])=>{n(l.isIntersecting)};return(0,e.useEffect)(()=>{const l=a.current,g=new IntersectionObserver(r,t);return l&&g.observe(a.current),()=>{l&&g.disconnect()}},[a,t]),[a,i]};var R=s(98402);const L=(t,a)=>{const i=(0,R.useCallbackRef)(a);(0,e.useLayoutEffect)(()=>{const n=new ResizeObserver(i);return Array.isArray(t)?t.forEach(r=>{r.current&&n.observe(r.current)}):t.current&&n.observe(t.current),()=>{n.disconnect()}},[t,i])};var T=Object.defineProperty,C=Object.defineProperties,B=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,O=(t,a,i)=>a in t?T(t,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[a]=i,f=(t,a)=>{for(var i in a||(a={}))A.call(a,i)&&O(t,i,a[i]);if(u)for(var i of u(a))M.call(a,i)&&O(t,i,a[i]);return t},x=(t,a)=>C(t,B(a)),I=(t,a)=>{var i={};for(var n in t)A.call(t,n)&&a.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&u)for(var n of u(t))a.indexOf(n)<0&&M.call(t,n)&&(i[n]=t[n]);return i};const h=()=>{const t=(0,e.useRef)(null),[a,i]=(0,e.useState)(null),[n,r]=D({root:null,rootMargin:"0px",threshold:0});return L(n,()=>{n.current&&i(n.current.getBoundingClientRect())}),(0,e.useEffect)(()=>{t.current&&i(t.current.getBoundingClientRect())},[t]),{containerRef:n,isVisible:r,baseHeaderLayoutRef:t,headerSize:a}},d=t=>{const{containerRef:a,isVisible:i,baseHeaderLayoutRef:n,headerSize:r}=h();return e.createElement(e.Fragment,null,e.createElement("div",{style:{height:r==null?void 0:r.height},ref:a},i&&e.createElement(E,f({ref:n},t))),!i&&e.createElement(E,x(f({},t),{sticky:!0,width:r==null?void 0:r.width})))};d.displayName="HeaderLayout";const y=(0,_.default)(c.x)`
  position: fixed;
  top: 0;
  right: 0;
  width: ${t=>t.width}px;
  z-index: 4;
  box-shadow: ${({theme:t})=>t.shadows.tableShadow};
`,E=e.forwardRef((t,a)=>{var i=t,{navigationAction:n,primaryAction:r,secondaryAction:l,subtitle:g,title:P,sticky:U,width:W}=i,K=I(i,["navigationAction","primaryAction","secondaryAction","subtitle","title","sticky","width"]);const S=typeof g=="string";return U?e.createElement(y,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,background:"neutral0",width:W,"data-strapi-header-sticky":!0},e.createElement(v.k,{justifyContent:"space-between"},e.createElement(v.k,null,n&&e.createElement(c.x,{paddingRight:3},n),e.createElement(c.x,null,e.createElement(p.Z,f({variant:"beta",as:"h1"},K),P),S?e.createElement(p.Z,{variant:"pi",textColor:"neutral600"},g):g),l?e.createElement(c.x,{paddingLeft:4},l):null),e.createElement(v.k,null,r?e.createElement(c.x,{paddingLeft:2},r):void 0))):e.createElement(c.x,{ref:a,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:n?6:8,background:"neutral100","data-strapi-header":!0},n?e.createElement(c.x,{paddingBottom:2},n):null,e.createElement(v.k,{justifyContent:"space-between"},e.createElement(v.k,null,e.createElement(p.Z,f({as:"h1",variant:"alpha"},K),P),l?e.createElement(c.x,{paddingLeft:4},l):null),r),S?e.createElement(p.Z,{variant:"epsilon",textColor:"neutral600",as:"p"},g):g)});E.displayName="BaseHeaderLayout",E.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0,sticky:!1,width:void 0},E.propTypes={navigationAction:o.node,primaryAction:o.node,secondaryAction:o.node,sticky:o.bool,subtitle:o.oneOfType([o.string,o.node]),title:o.string.isRequired,width:o.number},d.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0},d.propTypes={navigationAction:o.node,primaryAction:o.node,secondaryAction:o.node,subtitle:o.oneOfType([o.string,o.node]),title:o.string.isRequired}}}]);
